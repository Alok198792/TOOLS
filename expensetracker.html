  <!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Expense Tracker</title>

<style>
*{
    box-sizing:border-box;
    margin:0;
    padding:0;
}

/* ===== THEME ===== */
:root{
    --bg:#f4f6f8;
    --card:#ffffff;
    --text:#000;
    --table:#eeeeee;
}
body.dark{
    --bg:#121212;
    --card:#1e1e1e;
    --text:#fff;
    --table:#2a2a2a;
}
body{
    font-family:Arial, sans-serif;
    background:var(--bg);
    color:var(--text);
}

/* ===== NAVBAR ===== */
.nav{
    background:#a47171;
}
.nav-inner{
    max-width:1100px;
    margin:auto;
    display:flex;
    align-items:center;
    justify-content:space-between; /* âœ… left menu + right hamburger */
    position:relative;
}
.nav ul{
    list-style:none;
    display:flex;
}
.nav a{
    color:#fff;
    text-decoration:none;
    padding:14px 18px;
    display:block;
}
.nav a:hover{
    background:#8b5e5e;
}

/* ðŸŒ™ Dark icon */
.dark-toggle{
    font-size:20px;
    cursor:pointer;
}

/* â˜° Hamburger */
.menu-btn{
    display:none;
    font-size:26px;
    color:#fff;
    cursor:pointer;
    padding:14px;
}

/* ===== MOBILE NAVBAR ===== */
@media(max-width:768px){
    .menu-btn{
        display:block;              /* âœ… show hamburger */
    }
    .nav ul{
        position:absolute;
        top:56px;
        left:0;
        width:100%;
        display:none;
        flex-direction:column;
        background:#a47171;
    }
    .nav ul.show{
        display:flex;
    }
    .nav a{
        text-align:left;
    }
}

/* ===== LAYOUT ===== */
.container{
    max-width:1100px;
    margin:auto;
    padding:15px;
}
h1{
    text-align:center;
    margin:20px 0;
}

/* ===== CARD ===== */
.section{
    background:var(--card);
    padding:15px;
    margin-bottom:25px;
    border-radius:12px;
    box-shadow:0 4px 12px rgba(0,0,0,0.15);
}

/* ===== FORM ===== */
input,select,button{
    width:100%;
    padding:10px;
    margin-top:10px;
    font-size:16px;
    border-radius:5px;
    border:1px solid #ccc;
}
button{
    background:#4CAF50;
    color:#fff;
    border:none;
    cursor:pointer;
}
.pdf-btn{
    background:#9C27B0;
}

/* ===== TABLE ===== */
.table-wrapper{
    width:100%;
    overflow-x:auto;
}
table{
    width:100%;
    border-collapse:collapse;
}
th,td{
    border:1px solid #ccc;
    padding:8px;
    text-align:center;
    background:var(--table);
}
.delete-btn{
    background:red;
    color:#fff;
    border:none;
    padding:6px 10px;
}
.total{
    text-align:right;
    font-weight:bold;
    margin-top:10px;
}

/* ===== FOOTER ===== */
footer{
    background:#333;
    color:#fff;
    text-align:center;
    padding:15px;
}
</style>
</head>

<body>

<!-- ===== NAVBAR ===== -->
<nav class="nav">
  <div class="nav-inner">

    <!-- LEFT SIDE MENU -->
    <ul id="navMenu">
      <li>
        <a href="javascript:void(0)" onclick="toggleDarkMode()">
          <span class="dark-toggle">ðŸŒ™</span>
        </a>
      </li>
      <li><a href="index.html">Home</a></li>
      <li><a href="expensetracker.html">Track Expenses</a></li>
      <li><a href="#">About</a></li>
    </ul>

    <!-- RIGHT SIDE â˜° -->
    <span class="menu-btn" onclick="toggleMenu()">â˜°</span>

  </div>
</nav>

<h1>Expense Tracker</h1>

<div class="container">

<!-- ADD EXPENSE -->
<div class="section">
<h3>Add Expense</h3>

<input type="text" id="description" placeholder="Description">
<input type="number" id="amount" placeholder="Amount (â‚¹)">
<select id="category">
    <option value="">Select Category</option>
    <option>Room Rent</option>
    <option>Mess</option>
    <option>Food</option>
    <option>Transport</option>
    <option>Shopping</option>
    <option>Other</option>
</select>
<input type="date" id="date">

<button onclick="addExpense()">Add Expense</button>
<button class="pdf-btn" onclick="exportToPDF()">ðŸ“„ Export PDF</button>
</div>

<!-- EXPENSE LIST -->
<div class="section">
<h3>Expenses</h3>

<select id="monthFilter" onchange="renderExpenses()">
<option value="">All Months</option>
</select>

<div class="table-wrapper">
<table>
<thead>
<tr>
<th>Category</th>
<th>Date</th>
<th>Description</th>
<th>Amount</th>
<th>Action</th>
</tr>
</thead>
<tbody id="expenseList"></tbody>
</table>
</div>

<div class="total">Month Total â‚¹ <span id="monthTotal">0</span></div>
</div>

<!-- CATEGORY TOTAL -->
<div class="section">
<h3>Category-wise Total</h3>

<div class="table-wrapper">
<table>
<thead>
<tr><th>Category</th><th>Total</th></tr>
</thead>
<tbody id="categoryTotals"></tbody>
</table>
</div>

<div class="total">Grand Total â‚¹ <span id="grandTotal">0</span></div>
</div>

</div>

<footer>
Â© 2025 Expense Tracker
</footer>

<script>
let expenses = JSON.parse(localStorage.getItem("expenses")) || [];

/* â˜° Toggle menu */
function toggleMenu(){
    document.getElementById("navMenu").classList.toggle("show");
}

/* ðŸŒ™ Dark mode */
function toggleDarkMode(){
    document.body.classList.toggle("dark");
    localStorage.setItem("darkMode",document.body.classList.contains("dark"));
    document.querySelector(".dark-toggle").innerText =
        document.body.classList.contains("dark") ? "â˜€ï¸" : "ðŸŒ™";
}
if(localStorage.getItem("darkMode")==="true"){
    document.body.classList.add("dark");
    document.querySelector(".dark-toggle").innerText="â˜€ï¸";
}

/* Add expense */
function addExpense(){
    if(!description.value || !amount.value || !category.value || !date.value){
        alert("Fill all fields"); return;
    }
    expenses.push({
        description:description.value,
        amount:amount.value,
        category:category.value,
        date:date.value
    });
    localStorage.setItem("expenses",JSON.stringify(expenses));
    updateMonthFilter();
    renderExpenses();
    document.querySelectorAll("input,select").forEach(e=>e.value="");
}

/* Delete */
function deleteExpense(i){
    expenses.splice(i,1);
    localStorage.setItem("expenses",JSON.stringify(expenses));
    updateMonthFilter();
    renderExpenses();
}

/* Month filter */
function updateMonthFilter(){
    monthFilter.innerHTML='<option value="">All Months</option>';
    [...new Set(expenses.map(e=>e.date.slice(0,7)))].forEach(m=>{
        monthFilter.innerHTML+=`<option value="${m}">${m}</option>`;
    });
}

/* ðŸ”„ Render logic for table in month wise */
function renderExpenses(){
    expenseList.innerHTML="";
    categoryTotals.innerHTML="";
    let m=0,g=0,c={};
    const sm=monthFilter.value;

    expenses.forEach((e,i)=>{
        g+=+e.amount;
        c[e.category]=(c[e.category]||0)+ +e.amount;
        if(sm && !e.date.startsWith(sm)) return;

        const r=expenseList.insertRow();
        r.insertCell(0).innerText=e.category;
        r.insertCell(1).innerText=e.date;
        r.insertCell(2).innerText=e.description;
        r.insertCell(3).innerText=e.amount;

        const b=document.createElement("button");
        b.innerText="Delete";
        b.className="delete-btn";
        b.onclick=()=>deleteExpense(i);
        r.insertCell(4).appendChild(b);

        m+=+e.amount;
    });

    monthTotal.innerText=m;
    grandTotal.innerText=g;
    for(let k in c){
        const r=categoryTotals.insertRow();
        r.insertCell(0).innerText=k;
        r.insertCell(1).innerText="â‚¹ "+c[k];
    }
}

/* ðŸ“„ PDF */
function exportToPDF(){
    window.print();
}

updateMonthFilter();
renderExpenses();
</script>

</body>
</html>

