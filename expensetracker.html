 <!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Expense Tracker</title>

<style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

:root{
    --bg:#f4f6f8;
    --card:#ffffff;
    --text:#000;
    --table:#eeeeee;
}
body.dark{
    --bg:#121212;
    --card:#1e1e1e;
    --text:#fff;
    --table:#2a2a2a;
}
body{
    margin:0;
    font-family:Arial, sans-serif;
    background:var(--bg);
    color:var(--text);
  }
.container{
    max-width: 900px;
    margin: auto;
    padding: 15px;
}
h1{
    text-align:center;
    margin-bottom: 15px;
    margin-top: 19px;
    font-size: 28px;

}

/* nav */
    .nav ul{
        list-style-type:none;
        background-color: #a47171;
        padding: 0px;
        margin: 0px;
        overflow: hidden;
    }
    .nav a{
        color: white;
        text-decoration: none;
        padding:11px;
        display: block;
        text-align: center;
    }
    .nav a:hover{
        background-color: #a9c1ff;
    }
    .nav li{
        float:right;
    /* dark mode left side     */
    .nav li.left{
        float: left;
    }
    }
    /* nav end */

.container{
    max-width:900px;
    margin:auto;
}

/* ðŸŒ™ Dark mode icon */
.dark-toggle{
    /* position:relative;
    top:15px;
    right:15px; */
    font-size:20px;
    cursor:pointer;
}

/* ðŸ“¦ Sections */
.section{
    background:var(--card);
    padding:15px;
    margin-bottom:50px;
    border-radius:12px;
    box-shadow:0 4px 12px rgb(5, 248, 232,1); /*âœ… Box Shadow */
 
}

input,select,button{
    width:100%;
    padding:10px 0 10px ;
    margin:6px 0;
    border-radius: 5px;
    box-shadow:0 4px 12px rgba(7, 217, 224, 0.3); /* âœ… Box Shadow */

 }

button{
    background:#4CAF50;
    color:#fff;
    border:none;
    cursor:pointer;
 }

.pdf-btn{
    background:#9C27B0;
}

table{
    width:100%;
    border-collapse:collapse;
}

th,td{
    border:1px solid #ccc;
    padding:8px;
    text-align:center;
    background:var(--table);
}

.delete-btn{
    background:red;
    color:#fff;
    border:none;
    padding:7px;
}

.total{
    text-align:right;
    font-weight:bold;
    margin-top:10px;
}
 footer {
  width: 100%;
  margin: 0;
  padding: 15px 0;
  text-align: center;
  color: #fff;
  font-size: 16px;
  background: #333333;
  border-radius: 0; /* corners sharp */
}

/* ðŸ“± Mobile */
@media(max-width:600px){
    table{font-size:12px;}
}
</style>
</head>

<body>
 <!-- nav bar -->
    <nav class="nav">
    <ul>
        <li class="left">
      <a href="javascript:void(0)" onclick="toggleDarkMode()">
        <span class="dark-toggle">ðŸŒ™</span>
      </a>
    </li>
        <li><a href="">Dark mode </a></li>
        <li><a href="expensetracker.html">Track expenses</a></li>
        <li><a href="">About</a></li>
        <li><a href="index.html">Home</a></li>
    </ul>
</nav>
<!-- nav bar ends -->
 
<h1>Expense Tracker</h1>

<div class="container">

<!-- âž• ADD EXPENSE -->
<div class="section">
<h3>Add Expense</h3>

<input type="text" id="description" placeholder="Description">
<input type="number" id="amount" placeholder="Amount (â‚¹)">

<select id="category">
<option value="">Select Category</option>
<option>Room Rent</option>
<option>Mess</option>
<option>Food</option>
<option>Transport</option>
<option>Shopping</option>
<option>Practical Copy</option>
<option>Other</option>
</select>

<input type="date" id="date">
<button onclick="addExpense()">Add Expense</button>

<button class="pdf-btn" onclick="exportToPDF()">ðŸ“„ Export to PDF</button>
</div>

<!-- ðŸ“‹ EXPENSE TABLE -->
<div class="section">
<h3>Expenses (Month Wise)</h3>

<select id="monthFilter" onchange="renderExpenses()">
<option value="">All Months</option>
</select>

<table>
   <thead>
    <tr>
     <th>Category</th>
     <th>Date</th>
     <th>Description</th>
     <th>Amount(â‚¹)</th>
     <th>Action</th>
   </tr>
</thead>
<tbody id="expenseList"></tbody>
</table>

<div class="total">
Month Total: â‚¹<span id="monthTotal">0</span>
</div>
</div>

<!-- ðŸ“Š CATEGORY TOTAL -->
<div class="section">
<h3>Category-wise Total (All Months)</h3>

<table>
  <thead>
    <tr>
     <th>Category</th>
     <th>Total Amount</th>
   </tr>
</thead>
<tbody id="categoryTotals"></tbody>
</table>

<div class="total">
Grand Total: â‚¹<span id="grandTotal">0</span>
</div>
</div> 
  </div> <!-- âœ… container closed properly -->

  <footer>
    All rights reserved Â© 2025 | Developed by Unknown.
  </footer>

<script>
let expenses = JSON.parse(localStorage.getItem("expenses")) || [];

/* ðŸŒ™ Dark Mode */
function toggleDarkMode(){
    document.body.classList.toggle("dark");
    localStorage.setItem("darkMode",document.body.classList.contains("dark"));
    document.querySelector(".dark-toggle").innerText =
        document.body.classList.contains("dark") ? "â˜€ï¸" : "ðŸŒ™";
}
if(localStorage.getItem("darkMode")==="true"){
    document.body.classList.add("dark");
    document.querySelector(".dark-toggle").innerText="â˜€ï¸";
}

/* ðŸ“… Date format dd-mm-yyyy */
function formatDate(dateStr){
    const [y,m,d] = dateStr.split("-");
    return `${d}-${m}-${y}`;
}

/* âž• Add Expense */
function addExpense(){
    if(!description.value || !amount.value || !category.value || !date.value){
        alert("Fill all fields");
        return;
    }

    expenses.push({
        description:description.value,
        amount:amount.value,
        category:category.value,
        date:date.value
    });

    localStorage.setItem("expenses",JSON.stringify(expenses));
    updateMonthFilter();
    renderExpenses();
    document.querySelectorAll("input,select").forEach(e=>e.value="");
}

/* âŒ Delete */
function deleteExpense(i){
    expenses.splice(i,1);
    localStorage.setItem("expenses",JSON.stringify(expenses));
    updateMonthFilter();
    renderExpenses();
}

/* ðŸ“… Month filter */
function updateMonthFilter(){
    const monthNames = [
        "January","February","March","April","May","June",
        "July","August","September","October","November","December"
    ];

    const months = [...new Set(expenses.map(e => e.date.slice(0,7)))];

    monthFilter.innerHTML = `<option value="">All Months</option>`;

    months.forEach(m => {
        const [year, monthNum] = m.split("-");
        const monthName = monthNames[Number(monthNum) - 1];

        monthFilter.innerHTML +=
            `<option value="${m}">${monthNum} - ${monthName} - ${year}</option>`;
    });
}


/* ðŸ”„ Render logic for table in month wise */
function renderExpenses(){
    expenseList.innerHTML="";
    categoryTotals.innerHTML="";

    let monthSum=0, grandSum=0;
    let catSum={};
    const selectedMonth=monthFilter.value;

    expenses.forEach((e,i)=>{
        grandSum+=Number(e.amount);
        catSum[e.category]=(catSum[e.category]||0)+Number(e.amount);

        if(selectedMonth && !e.date.startsWith(selectedMonth)) return;

        const r=expenseList.insertRow();
        r.insertCell(0).innerText=e.category;
        r.insertCell(1).innerText=formatDate(e.date); /* âœ… formatted */
        r.insertCell(2).innerText=e.description;
        r.insertCell(3).innerText=e.amount;

        const b=document.createElement("button");
        b.innerText="Delete";
        b.className="delete-btn";
        b.onclick=()=>deleteExpense(i);
        r.insertCell(4).appendChild(b);

        monthSum+=Number(e.amount);
    });

    monthTotal.innerText=monthSum;
    grandTotal.innerText=grandSum;

    for(let c in catSum){
        const r=categoryTotals.insertRow();
        r.insertCell(0).innerText=c;
        r.insertCell(1).innerText="â‚¹"+catSum[c];
    }
}

/* ðŸ“„ PDF */
function exportToPDF(){
    window.print();
}

const description=document.getElementById("description");
const amount=document.getElementById("amount");
const category=document.getElementById("category");
const date=document.getElementById("date");
const monthFilter=document.getElementById("monthFilter");
const monthTotal=document.getElementById("monthTotal");
const grandTotal=document.getElementById("grandTotal");
const expenseList=document.getElementById("expenseList");
const categoryTotals=document.getElementById("categoryTotals");

updateMonthFilter();
renderExpenses();
</script>

</body>
</html>
